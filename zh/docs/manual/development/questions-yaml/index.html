<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-manual/development/questions-yaml">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.22">
<link rel="alternate" type="application/rss+xml" href="/zh/blog/rss.xml" title="TrueCharts RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh/blog/atom.xml" title="TrueCharts Atom Feed"><title data-rh="true">Questions.yaml | TrueCharts</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://truecharts.org/zh/docs/manual/development/questions-yaml"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Questions.yaml | TrueCharts"><meta data-rh="true" name="description" content="Questions.yaml is the file which get rendered by TrueNAS to create the UI. When not creating new charts, most of what this project does is stitching together questions.yaml files to turn existing Helm Charts into Apps."><meta data-rh="true" property="og:description" content="Questions.yaml is the file which get rendered by TrueNAS to create the UI. When not creating new charts, most of what this project does is stitching together questions.yaml files to turn existing Helm Charts into Apps."><link data-rh="true" rel="icon" href="/zh/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://truecharts.org/zh/docs/manual/development/questions-yaml"><link data-rh="true" rel="alternate" href="https://truecharts.org/docs/manual/development/questions-yaml" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://truecharts.org/zh/docs/manual/development/questions-yaml" hreflang="zh"><link data-rh="true" rel="alternate" href="https://truecharts.org/docs/manual/development/questions-yaml" hreflang="x-default"><link rel="stylesheet" href="/zh/assets/css/styles.c7586e27.css">
<link rel="preload" href="/zh/assets/js/runtime~main.7a5e6137.js" as="script">
<link rel="preload" href="/zh/assets/js/main.401eb2b1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">跳到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh/"><div class="navbar__logo"><img src="/zh/img/1024.png" alt="TrueCharts logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/zh/img/1024.png" alt="TrueCharts logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">TrueCharts</b></a><a class="navbar__item navbar__link" href="/zh/docs/about/intro">About</a><a class="navbar__item navbar__link" href="/zh/blog">Blog</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh/docs/manual/intro">Manual</a><a class="navbar__item navbar__link" href="/zh/docs/charts/intro">Charts</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/docs/manual/development/questions-yaml" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/zh/docs/manual/development/questions-yaml" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">中文</a></li></ul></div><a href="https://github.com/truecharts/apps" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/docs/manual/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/zh/docs/manual/SCALE Apps/Community Examples/pci-passthrough">SCALE Apps</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/docs/manual/SUPPORT">Support Policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/docs/manual/default-ports">Default Ports</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/docs/manual/description_list">Apps List</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/zh/docs/manual/development/License-headers">development</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/License-headers">License Header Format</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/chart-structure">TrueNAS SCALE Chart Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/chart-yaml-structure">Chart.yaml layout</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/common-libary">Common Library Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/contributing">Contribution Guidelines</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/handycommands">Command Cheatsheet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/ingress">Ingress</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/portal">Portal Button</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh/docs/manual/development/questions-yaml">Questions.yaml</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/services">Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/storage">Storage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/unit-tests">Unit tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh/docs/manual/development/values-yaml">Values.yaml Files</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/docs/manual/migration">Migration between versions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/docs/manual/systemrequirements">System Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh/docs/manual/volume_list">Mounted Volumes</a></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">development</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Questions.yaml</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>Questions.yaml</h1><p>Questions.yaml is the file which get rendered by TrueNAS to create the UI. When not creating new charts, most of what this project does is stitching together questions.yaml files to turn existing Helm Charts into Apps.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="syntax">Syntax<a class="hash-link" href="#syntax" title="标题的直接链接">​</a></h3><p>In this document we give you a short reference guide (ported from IX Official) which lays out the settings available in questions.yaml.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="question-variable-reference">Question Variable Reference<a class="hash-link" href="#question-variable-reference" title="标题的直接链接">​</a></h4><table><thead><tr><th>Variable</th><th>Type</th><th>Required</th><th>Description</th></tr></thead><tbody><tr><td>variable</td><td>string</td><td>true</td><td>define the variable name specified in the <code>values.yaml</code>file.</td></tr><tr><td>label</td><td>string</td><td>true</td><td>define the UI label.</td></tr><tr><td>description</td><td>string</td><td>false</td><td>specify the description of the variable.</td></tr><tr><td>group</td><td>string</td><td>false</td><td>group questions by input value.</td></tr><tr><td>schema</td><td>dictionary</td><td>true</td><td>specify schema details for the <code>variable</code></td></tr><tr><td>schema.type</td><td>string</td><td>true</td><td>specify type of value for <code>variable</code> (current supported types are string, int, boolean, path, hostpath, list, dict, ipaddr, and cron).</td></tr><tr><td>schema.required</td><td>bool</td><td>false</td><td>define if the variable is required or not (true \ false), defaults to false</td></tr><tr><td>schema.default</td><td>object</td><td>false</td><td>specify the default value.</td></tr><tr><td>schema.min_length</td><td>int</td><td>false</td><td>min character length for string type variable.</td></tr><tr><td>schema.max_length</td><td>int</td><td>false</td><td>max character length for string type variable.</td></tr><tr><td>schema.min</td><td>int</td><td>false</td><td>min integer length.</td></tr><tr><td>schema.max</td><td>int</td><td>false</td><td>max integer length.</td></tr><tr><td>schema.enum</td><td>[]dictionary</td><td>false</td><td>specify the options when the variable type is <code>string</code>, for example, <br><br>enum:<br> - value: &quot;RollingUpdate&quot; <br> <!-- --> <!-- -->description: &quot;Create new pods and then kill old ones&quot;<br> - value: &quot;Recreate&quot;<br> <!-- --> <!-- -->description: &quot;Kill existing pods before creating new ones&quot;</td></tr><tr><td>schema.valid_chars</td><td>string</td><td>false</td><td>regular expression for input chars validation.</td></tr><tr><td>schema.subquestions</td><td>[]subquestion</td><td>false</td><td>add an array of subquestions.</td></tr><tr><td>schema.show_if</td><td>string</td><td>false</td><td>show current variable if condition specified is true, for example <code>show_if: [[&quot;workloadType&quot;, &quot;=&quot;, &quot;CronJob&quot;]]</code></td></tr><tr><td>schema.show_subquestions_if</td><td>string</td><td>false</td><td>show subquestions if is true or equal to one of the options. for example <code>show_subquestion_if: &quot;static&quot;</code>. system will convert this to the filters format specifid for <code>shcema.show_if</code> automatically.</td></tr><tr><td>schema.attrs</td><td>[]variables</td><td>false</td><td>specified when <code>schema.type</code> is dictionary to declare attributes allowed in the dictionary.</td></tr><tr><td>schema.items</td><td>[]variables</td><td>false</td><td>specified when <code>schema.type</code> is list to declare attributes allowed in the list.</td></tr><tr><td>schema.private</td><td>bool</td><td>false</td><td>specified for declaring information sensitive fields.</td></tr><tr><td>schema.null</td><td>bool</td><td>false</td><td>specifies if the value for the variable can be null. defaults to false.</td></tr></tbody></table><h5 class="anchor anchorWithStickyNavbar_LWe7" id="subquestions">Subquestions<a class="hash-link" href="#subquestions" title="标题的直接链接">​</a></h5><p><code>subquestions[]</code> cannot contain <code>subquestions</code> or <code>show_subquestions_if</code> keys, but all other keys in the above table are supported. Also variables having <code>schema.type</code> list do not support <code>subquestions</code>.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="special-questions">Special Questions<a class="hash-link" href="#special-questions" title="标题的直接链接">​</a></h5><p>There are some novel cases where we would like to provide ability to configure / manage resources for workloads with getting some data from system dynamically.
So a chart can specify certain actions to be performed by the system for a variable by defining a reference. An example better illustrates this concept:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- variable: volume</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  label: &quot;Volume&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type: dict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $ref:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - &quot;normalize/ixVolume&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">attrs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - variable: mountPath</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        label: &quot;Mount Path&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        description: &quot;Path where the volume will be mounted inside the pod&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          type: path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          required: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - variable: datasetName</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">label: &quot;Dataset Name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          type: string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          required: true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the above variable we define a <code>$ref</code> in schema which specifies that the system should take some action for normalising the value specified for the variable.
In this specific case, <code>ix_volume</code> is a concept introduced where we recommend using a volume which we are able to rollback automatically on chart release rollback. In essence,
it is just a <code>hostPath</code> volume for which the system automatically creates the dataset specified.
We have following types of actions supported in <code>$ref</code> right now:
1) definitions
2) normalize
For (1), system will automatically update schema for a particular definition. For example,</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">- variable: hostInterface</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  description: &quot;Please specify host interface&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">label: &quot;Host Interface&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type: string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    required: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    $ref:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      - &quot;definitions/interface&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>System will automatically populate available interfaces for the user based on what interfaces are available on the system.
For (2), system will normalize values or perform some actions as discussed above.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="standardised-questionsyaml-sections">Standardised questions.yaml sections<a class="hash-link" href="#standardised-questionsyaml-sections" title="标题的直接链接">​</a></h3><p>To minimise the maintenance load of our App collection, we always aim to standardise as much as possible. The same goes for questions.yaml. Included here are some code standardised code-snippets that are expected to be included in every App.
Be aware that sometimes specific functions might or might not completely function. Leaving them out would, however, everely increase the maintenance load and often said functionality will be added in the common-chart later on anyway.</p><h5 class="anchor anchorWithStickyNavbar_LWe7" id="groups">Groups<a class="hash-link" href="#groups" title="标题的直接链接">​</a></h5><p>To make sure all apps stay somewhat the same, we use a list of standardised groups for the groups section. Please make sure to use these groups in your Apps:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">groups:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: &quot;Container Image&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: &quot;Image to be used for container&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: &quot;Workload Configuration&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: &quot;Configure workload deployment&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: &quot;Configuration&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: &quot;additional container configuration&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: &quot;Networking&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: &quot;Configure Network and Services for container&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: &quot;Storage&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: &quot;Persist and share data that is separate from the lifecycle of the container&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: &quot;Resources and Devices&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: &quot;Specify resources/devices to be allocated to workload&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: &quot;Ingress Configuration&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: &quot;Ingress Configuration&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: &quot;Security&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: &quot;Configure security context&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: &quot;Advanced&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: &quot;Advanced Configuration&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - name: &quot;WARNING&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    description: &quot;WARNING&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="general-configuration-options">General Configuration options<a class="hash-link" href="#general-configuration-options" title="标题的直接链接">​</a></h5><p>These options are always* included because almost every chart (eventually) has a use for them and/or other parts of the common chart depend on them.
They are called general options, because they affect the basic functionalities of a chart. For example: Custom User environment variables, permissions and timezones.</p><p>*<code>PUID</code>, <code>PGID</code>, <code>UMASK</code> are only included when they are needed.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  - variable: env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    group: &quot;Configuration&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    label: &quot;Image Environment&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      additional_attrs: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: dict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      attrs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - variable: TZ</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label: &quot;Timezone&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default: &quot;Etc/UTC&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            $ref:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - &quot;definitions/timezone&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - variable: PUID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label: &quot;PUID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          description: &quot;Sets the PUID env var for LinuxServer.io (compatible) containers&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default: 568</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - variable: PGID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label: &quot;PGID&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          description: &quot;Sets the PGID env var for LinuxServer.io (compatible) containers&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default: 568</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - variable: UMASK</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label: &quot;UMASK&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          description: &quot;Sets the UMASK env var for LinuxServer.io (compatible) containers&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default: &quot;002&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Configure Custom Enviroment Variables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - variable: environmentVariables</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    label: &quot;Image environment&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    group: &quot;Configuration&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      default: []</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      items:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - variable: environmentVariable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label: &quot;Environment Variable&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: dict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            attrs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - variable: name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                label: &quot;Name&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  type: string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - variable: value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                label: &quot;Value&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  type: string</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithStickyNavbar_LWe7" id="security-context-configuration-options">Security Context Configuration options<a class="hash-link" href="#security-context-configuration-options" title="标题的直接链接">​</a></h5><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">  # Enable privileged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - variable: securityContext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    group: &quot;Security&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    label: &quot;Security Context&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      additional_attrs: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: dict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      attrs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - variable: privileged</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label: &quot;Enable privileged mode for Common-Chart based charts&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default: false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  # Set Pod Security Policy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  - variable: podSecurityContext</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    group: &quot;Security&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    label: &quot;Pod Security Context&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      additional_attrs: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      type: dict</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      attrs:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - variable: runAsNonRoot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label: &quot;runAsNonRoot&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default: true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - variable: runAsUser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label: &quot;runAsUser&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          description: &quot;The UserID of the user running the application&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default: 568</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - variable: runAsGroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label: &quot;runAsGroup&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          description: The groupID this App of the user running the application&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default: 568</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - variable: fsGroup</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label: &quot;fsGroup&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          description: &quot;The group that should own ALL storage.&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: int</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default: 568</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        - variable: fsGroupChangePolicy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          label: &quot;When should we take ownership?&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          schema:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            type: string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            default: &quot;OnRootMismatch&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            enum:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - value: &quot;OnRootMismatch&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                description: &quot;OnRootMismatch&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              - value: &quot;Always&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                description: &quot;Always&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/truecharts/pub/docs/manual/development/questions-yaml.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档分页导航"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh/docs/manual/development/portal"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">Portal Button</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh/docs/manual/development/services"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">Services</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#syntax" class="table-of-contents__link toc-highlight">Syntax</a></li><li><a href="#standardised-questionsyaml-sections" class="table-of-contents__link toc-highlight">Standardised questions.yaml sections</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 TrueCharts</div></div></div></footer></div>
<script src="/zh/assets/js/runtime~main.7a5e6137.js"></script>
<script src="/zh/assets/js/main.401eb2b1.js"></script>
</body>
</html>