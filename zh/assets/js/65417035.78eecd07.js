"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[35843],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return d}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var i=r.createContext({}),u=function(e){var t=r.useContext(i),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=u(e.components);return r.createElement(i.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,i=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=u(n),d=a,v=m["".concat(i,".").concat(d)]||m[d]||c[d]||s;return n?r.createElement(v,o(o({ref:t},p),{},{components:n})):r.createElement(v,o({ref:t},p))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,o=new Array(s);o[0]=m;var l={};for(var i in t)hasOwnProperty.call(t,i)&&(l[i]=t[i]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var u=2;u<s;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},39513:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return i},default:function(){return d},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return c}});var r=n(83117),a=n(80102),s=(n(67294),n(3905)),o=["components"],l={},i="\u5355\u5143\u6d4b\u8bd5",u={unversionedId:"manual/development/unit-tests",id:"manual/development/unit-tests",title:"\u5355\u5143\u6d4b\u8bd5",description:"\u6211\u4eec\u6d4b\u8bd5\u6211\u4eec\u7684\u5171\u540c\u5e93\uff0c\u867d\u7136\u5b83\u6ca1\u6709\u63a5\u8fd1\u5b8c\u6574\u7684\u8986\u76d6\u8303\u56f4\uff0c\u4f46\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e9b\u57fa\u672c\u7684\u68c0\u67e5\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/manual/development/unit-tests.md",sourceDirName:"manual/development",slug:"/manual/development/unit-tests",permalink:"/zh/docs/manual/development/unit-tests",draft:!1,editUrl:"https://github.com/truecharts/website/tree/master/docs/manual/development/unit-tests.md",tags:[],version:"current",frontMatter:{},sidebar:"manualSidebar",previous:{title:"\u5b58\u50a8",permalink:"/zh/docs/manual/development/storage"},next:{title:"\u503c.yaml \u6587\u4ef6",permalink:"/zh/docs/manual/development/values-yaml"}},p={},c=[{value:"\u8fd0\u884c\u6d4b\u8bd5",id:"\u8fd0\u884c\u6d4b\u8bd5",level:2},{value:"\u4f7f\u7528 Visual Studio \u4ee3\u7801",id:"\u4f7f\u7528-visual-studio-\u4ee3\u7801",level:3},{value:"\u5fc5\u5907\u6761\u4ef6",id:"\u5fc5\u5907\u6761\u4ef6",level:4},{value:"\u8fd0\u884c\u6d4b\u8bd5",id:"\u8fd0\u884c\u6d4b\u8bd5-1",level:4},{value:"\u4ea7\u51fa",id:"\u4ea7\u51fa",level:2}],m={toc:c};function d(e){var t=e.components,n=(0,a.Z)(e,o);return(0,s.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"\u5355\u5143\u6d4b\u8bd5"},"\u5355\u5143\u6d4b\u8bd5"),(0,s.kt)("p",null,"\u6211\u4eec\u6d4b\u8bd5\u6211\u4eec\u7684\u5171\u540c\u5e93\uff0c\u867d\u7136\u5b83\u6ca1\u6709\u63a5\u8fd1\u5b8c\u6574\u7684\u8986\u76d6\u8303\u56f4\uff0c\u4f46\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e9b\u57fa\u672c\u7684\u68c0\u67e5\u3002"),(0,s.kt)("h2",{id:"\u8fd0\u884c\u6d4b\u8bd5"},"\u8fd0\u884c\u6d4b\u8bd5"),(0,s.kt)("p",null,"\u8fd0\u884c\u8fd9\u4e9b\u6d4b\u8bd5\u53ef\u4ee5\u4ee5\u60a8\u559c\u6b22\u7684\u65b9\u5f0f\u8fdb\u884c\u3002 \u5728\u8fd9\u4efd\u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u53ea\u80fd\u4f7f\u7528\u6211\u4eec\u7684\u5f00\u53d1\u5bb9\u5668\u6765\u4f7f\u7528 Visual Studio \u4ee3\u7801\u3002"),(0,s.kt)("h3",{id:"\u4f7f\u7528-visual-studio-\u4ee3\u7801"},"\u4f7f\u7528 Visual Studio \u4ee3\u7801"),(0,s.kt)("p",null,"\u6211\u4eec\u7684repo \u5e26\u6709\u4e00\u4e2a Visual Studio \u4ee3\u7801 ",(0,s.kt)("a",{parentName:"p",href:"https://code.visualstudio.com/docs/remote/containers"},"\u5f00\u53d1\u5bb9\u5668")," \u5b9a\u4e49\u548c ",(0,s.kt)("inlineCode",{parentName:"p"},"\u542f\u52a8. son")," \u5141\u8bb8\u60a8\u5feb\u901f\u8bbe\u7f6e\u4e00\u4e2a\u60a8\u53ef\u4ee5\u8fd0\u884c\u6d4b\u8bd5\u7684\u73af\u5883\u3002"),(0,s.kt)("h4",{id:"\u5fc5\u5907\u6761\u4ef6"},"\u5fc5\u5907\u6761\u4ef6"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Visual Studio \u4ee3\u7801\u5df2\u5b89\u88c5\u3002"),(0,s.kt)("li",{parentName:"ul"},"Docker\u5df2\u5b89\u88c5\u5e76\u8fd0\u884c\u3002"),(0,s.kt)("li",{parentName:"ul"},"\u201c\u8fdc\u7a0b-\u5bb9\u5668\u201d\u6269\u5c55\u5df2\u5b89\u88c5\u5e76\u5728 Visual Studio \u4ee3\u7801\u4e2d\u542f\u7528\u3002")),(0,s.kt)("p",null,"\u6b32\u4e86\u89e3\u66f4\u591a\u8be6\u60c5\uff0c\u8bf7\u53c2\u9605 ",(0,s.kt)("a",{parentName:"p",href:"https://code.visualstudio.com/docs/remote/containers#_system-requirements"},"\u5b98\u65b9\u6587\u6863"),"\u3002"),(0,s.kt)("h4",{id:"\u8fd0\u884c\u6d4b\u8bd5-1"},"\u8fd0\u884c\u6d4b\u8bd5"),(0,s.kt)("p",null,"\u8bbe\u7f6e\u4e86 Visual Studio \u4ee3\u7801\u540e\uff0c\u60a8\u5c06\u6253\u5f00 ",(0,s.kt)("inlineCode",{parentName:"p"},"\u56fe\u8868")," \u5de5\u4f5c\u7a7a\u95f4\u3002 \u5982\u679c\u60a8\u60f3\u8981\u5728\u5f00\u53d1\u5bb9\u5668\u4e2d\u91cd\u65b0\u6253\u5f00\u5de5\u4f5c\u533a\uff0c\u60a8\u5c06\u770b\u5230\u4e00\u4e2a\u5f39\u51fa\u7a97\u53e3\u8be2\u95ee\uff1a"),(0,s.kt)("p",null,(0,s.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/k8s-at-home/charts/master/docs/images/vscode_devcontainer_popup.png",alt:"Visual Studio \u4ee3\u7801\u5f00\u53d1\u5bb9\u5668\u5f39\u51fa\u7a97\u53e3"})),(0,s.kt)("p",null,"\u9009\u4e2d\u6b64\u9879\u5e76\u5c06\u5efa\u7acb\u4e00\u4e2a\u505c\u9760\u5de5\u4f5c\u533a\u3002 \u60a8\u73b0\u5728\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528 Visual Studio \u4ee3\u7801\u3002"),(0,s.kt)("p",null,"\u8981\u8fd0\u884c\u6216\u8c03\u8bd5\u8bbe\u5907\u6d4b\u8bd5\uff0c\u8bf7\u5355\u51fb\u5de6\u4fa7\u8fb9\u680f\u4e0a\u7684\u201c\u8fd0\u884c\u201d\u6309\u94ae\u5e76\u9009\u62e9\u6240\u9700\u7684\u914d\u7f6e\uff1a"),(0,s.kt)("p",null,(0,s.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/k8s-at-home/charts/master/docs/images/vscode_run_unittests.png",alt:"Visual Studio \u4ee3\u7801\u8fd0\u884c\u914d\u7f6e"})),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},(0,s.kt)("em",{parentName:"p"},"UnitTest - \u6d3b\u52a8\u7684 spec \u6587\u4ef6"),": \u6b64\u914d\u7f6e\u5c06\u5c1d\u8bd5\u8fd0\u884c\u5f53\u524d\u6253\u5f00\u7684\u6d4b\u8bd5\u6587\u4ef6\u3002"),(0,s.kt)("p",{parentName:"li"},(0,s.kt)("strong",{parentName:"p"},"\u6ce8\u610f\uff1a")," \u8bf7\u786e\u4fdd\u60a8\u5df2\u7ecf\u6253\u5f00\u4e86\u4e00\u4e2a\u6709\u6548\u7684\u6d4b\u8bd5\u6587\u4ef6(",(0,s.kt)("inlineCode",{parentName:"p"},")\u3002 b")," \u6587\u4ef6\u5728 ",(0,s.kt)("inlineCode",{parentName:"p"},"\u6d4b\u8bd5/\u56fe\u8868")," \u6587\u4ef6\u5939\u4e2d\uff0c\u5426\u5219\u65e0\u6cd5\u5de5\u4f5c\u3002")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},(0,s.kt)("em",{parentName:"p"},"UnitTest - \u6240\u6709 spec \u6587\u4ef6"),": \u6b64\u914d\u7f6e\u5c06\u8fd0\u884c\u5728 ",(0,s.kt)("inlineCode",{parentName:"p"},"test/chays")," \u6587\u4ef6\u5939\u4e2d\u7684\u6240\u6709\u6d4b\u8bd5\u6587\u4ef6\u3002"))),(0,s.kt)("p",null,"\u63a5\u4e0b\u6765\uff0c\u6309\u7eff\u8272\u7684\u201c\u64ad\u653e\u201d\u56fe\u6807\u3002 \u8fd9\u5c06\u542f\u52a8\u6d4b\u8bd5\u5728\u7ec8\u7aef\u7a97\u53e3\u4e2d\u663e\u793a\u7ed3\u679c\u3002"),(0,s.kt)("h2",{id:"\u4ea7\u51fa"},"\u4ea7\u51fa"),(0,s.kt)("p",null,"\u4e00\u4e2a\u6210\u529f\u7684\u6d4b\u8bd5\u5c06\u4f1a\u8f93\u51fa\u5982\u4e0b\u7684\u4e1c\u897f..."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-text"},'Started with run options --seed 52955\n\ncommon-test::statefulset volumeClaimTemplates\n  can set values for volumeClaimTemplates                         PASS (0.16s)\n  volumeClaimTemplates should be empty by default                 PASS (0.06s)\n\ncommon-test::ports settings\n  targetPort can be overridden                                    PASS (0.17s)\n  port name can be overridden                                     PASS (0.17s)\n  defaults to name "http" on port 8080                            PASS (0.16s)\n  targetPort cannot be a named port                               PASS (0.05s)\n\ncommon-test::pod replicas\n  defaults to 1                                                   PASS (0.08s)\n  accepts integer as value                                        PASS (0.08s)\n\ncommon-test::Environment settings\n  Check no environment variables                                  PASS (0.05s)\n  set "valueFrom" environment variables                           PASS (0.11s)\n  set "static" and "Dynamic/Tpl" environment variables            PASS (0.15s)\n  set "Dynamic/Tpl" environment variables                         PASS (0.11s)\n  set "static" environment variables                              PASS (0.10s)\n\ncommon-test::ingress\n  ingress with hosts                                              PASS (0.10s)\n  should be disabled when ingress.enabled: false                  PASS (0.06s)\n  ingress with hosts template is evaluated                        PASS (0.11s)\n  ingress with hosts and tls                                      PASS (0.15s)\n  ingress with hosts and tls templates is evaluated               PASS (0.16s)\n  should be enabled when ingress.enabled: true                    PASS (0.06s)\n\ncommon-test::controller type\n  accepts "daemonset"                                             PASS (0.06s)\n  accepts "statefulset"                                           PASS (0.06s)\n  defaults to "Deployment"                                        PASS (0.06s)\n\nFinished in 2.26077s\n22 tests, 59 assertions, 0 failures, 0 errors, 0 skips\n')))}d.isMDXComponent=!0}}]);