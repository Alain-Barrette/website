"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[78445],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return f}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),l=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(n),f=a,m=d["".concat(p,".").concat(f)]||d[f]||c[f]||i;return n?r.createElement(m,o(o({ref:t},u),{},{components:n})):r.createElement(m,o({ref:t},u))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},23771:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return p},default:function(){return f},frontMatter:function(){return s},metadata:function(){return l},toc:function(){return c}});var r=n(83117),a=n(80102),i=(n(67294),n(3905)),o=["components"],s={sidebar_position:9},p="Installing Traefik",l={unversionedId:"manual/SCALE Apps/installing-Traefik",id:"manual/SCALE Apps/installing-Traefik",title:"Installing Traefik",description:'Within TrueCharts, our aim is to make it as easy as possible to secure your Apps. To support this, we supply a separate Traefik "ingress" app, which has been pre-configured to provide secure and fast connections.',source:"@site/docs/manual/SCALE Apps/installing-Traefik.md",sourceDirName:"manual/SCALE Apps",slug:"/manual/SCALE Apps/installing-Traefik",permalink:"/docs/manual/SCALE Apps/installing-Traefik",draft:!1,editUrl:"https://github.com/truecharts/website/tree/master/docs/manual/SCALE Apps/installing-Traefik.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{sidebar_position:9},sidebar:"manualSidebar",previous:{title:"Adding Lets-Encrypt Certificates",permalink:"/docs/manual/SCALE Apps/adding-letsencrypt"},next:{title:"Reverse Proxy using Ingress",permalink:"/docs/manual/SCALE Apps/add-ingress"}},u={},c=[{value:"How-To",id:"how-to",level:2},{value:"TrueNAS WebUI",id:"truenas-webui",level:3},{value:"Installing the Traefik Scale App",id:"installing-the-traefik-scale-app",level:3},{value:"Video Guide",id:"video-guide",level:2}],d={toc:c};function f(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"installing-traefik"},"Installing Traefik"),(0,i.kt)("p",null,'Within TrueCharts, our aim is to make it as easy as possible to secure your Apps. To support this, we supply a separate Traefik "ingress" app, which has been pre-configured to provide secure and fast connections.'),(0,i.kt)("h2",{id:"how-to"},"How-To"),(0,i.kt)("h3",{id:"truenas-webui"},"TrueNAS WebUI"),(0,i.kt)("p",null,"In order to set up Traefik, you will be required to change the default TrueNAS WebUI access ports. These ports are by default set to port ",(0,i.kt)("inlineCode",{parentName:"p"},"80")," for HTTP and port ",(0,i.kt)("inlineCode",{parentName:"p"},"443")," for HTTPS. This is necessary as we will be setting Traefik up to function as a reverse proxy, and receive traffic on these host ports."),(0,i.kt)("p",null,"In the TrueNAS Menu, navigate to ",(0,i.kt)("strong",{parentName:"p"},"System")," > ",(0,i.kt)("strong",{parentName:"p"},"General"),". Click the ",(0,i.kt)("strong",{parentName:"p"},"Settings")," button at the top right of the GUI component.\nUnder these ",(0,i.kt)("strong",{parentName:"p"},"GUI Settings"),", change:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Web Interface HTTP Port to port ",(0,i.kt)("inlineCode",{parentName:"li"},"81")),(0,i.kt)("li",{parentName:"ul"},"Web Interface HTTPS Port to port ",(0,i.kt)("inlineCode",{parentName:"li"},"444"),".")),(0,i.kt)("p",null,"Click ",(0,i.kt)("strong",{parentName:"p"},"Save")," to save your changes. The WebUI will now prompt you to restart the web server service, after which you will be automatically redirected to your dashboard through one of the new ports.\nIf you are not prompted to restart the web server service, you may restart the machine and manually navigate to the WebUI address followed by one of the new ports eg. ",(0,i.kt)("inlineCode",{parentName:"p"},"truenas.local:81"),"."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"These are the recommended ports for this procedure. Using different ports may require some changes to your configuration that are not covered in this tutorial.")),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"Do not skip this step. Neglecting to change the default ports active may cause your WebUI to become inaccessible after the following step.\nEnsure you are accessing your WebUI from the new ports before proceeding.")),(0,i.kt)("h3",{id:"installing-the-traefik-scale-app"},"Installing the Traefik Scale App"),(0,i.kt)("p",null,"In the TrueNAS Menu, navigate to ",(0,i.kt)("strong",{parentName:"p"},"Apps")," > ",(0,i.kt)("strong",{parentName:"p"},"Available Applications"),". Use the search bar to search for or manually find the Traefik app in the list of apps, and click ",(0,i.kt)("strong",{parentName:"p"},"Install")),(0,i.kt)("p",null,"The setup of Traefik is relatively straight-forward. Most of the settings remain unchanged from default, except for these two:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"(1) Application Name"),": Enter a name for your app. You may use simply ",(0,i.kt)("em",{parentName:"li"},"traefik")," for this field."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"(5) Networking and Services"),": Under TCP Services, find and change:",(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"web Entrypoint Configuration")," > Entrypoints port:\nchange port ",(0,i.kt)("inlineCode",{parentName:"li"},"9080"),"to port ",(0,i.kt)("inlineCode",{parentName:"li"},"80")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"websecure Entrypoint Configuration")," > Entrypoints port:\nchange port ",(0,i.kt)("inlineCode",{parentName:"li"},"9433"),"to port ",(0,i.kt)("inlineCode",{parentName:"li"},"433"))))),(0,i.kt)("p",null,"Continue to section 12, and select ",(0,i.kt)("strong",{parentName:"p"},"Next"),". Traefik will now be installed.\nAfter installation you can access the Traefik dashboard using your host IP address followed by ",(0,i.kt)("inlineCode",{parentName:"p"},":9000"),', or by simply clicking "Web Portal" on the application\'s entry under ',(0,i.kt)("strong",{parentName:"p"},"Apps")," > ",(0,i.kt)("strong",{parentName:"p"},"Installed Applications"),"."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Traefik is part of the ",(0,i.kt)("inlineCode",{parentName:"p"},"stable")," train, so make sure you have it enabled as specified in ",(0,i.kt)("a",{parentName:"p",href:"https://truecharts.org/manual/Quick-Start%20Guides/01-Adding-TrueCharts/"},"Step 1")," of our Quick Start Guides")),(0,i.kt)("h2",{id:"video-guide"},"Video Guide"),(0,i.kt)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/bWNPfrKjawI",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))}f.isMDXComponent=!0}}]);