"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[88730],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return h}});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),u=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=u(a),h=n,m=d["".concat(s,".").concat(h)]||d[h]||p[h]||l;return a?r.createElement(m,i(i({ref:t},c),{},{components:a})):r.createElement(m,i({ref:t},c))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,i=new Array(l);i[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:n,i[1]=o;for(var u=2;u<l;u++)i[u]=a[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},13243:function(e,t,a){a.r(t),a.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return h},frontMatter:function(){return o},metadata:function(){return u},toc:function(){return p}});var r=a(83117),n=a(80102),l=(a(67294),a(3905)),i=["components"],o={},s="How-To",u={unversionedId:"charts/stable/tailscale/How-To-Guide",id:"charts/stable/tailscale/How-To-Guide",title:"How-To",description:"This is a quick how-to or setup-guide to use Tailscale using on your TrueNAS box.",source:"@site/docs/charts/stable/tailscale/How-To-Guide.md",sourceDirName:"charts/stable/tailscale",slug:"/charts/stable/tailscale/How-To-Guide",permalink:"/docs/charts/stable/tailscale/How-To-Guide",draft:!1,editUrl:"https://github.com/truecharts/website/tree/master/docs/charts/stable/tailscale/How-To-Guide.md",tags:[],version:"current",frontMatter:{},sidebar:"chartsSidebar",previous:{title:"Changelog",permalink:"/docs/charts/stable/tailscale/CHANGELOG"},next:{title:"tautulli",permalink:"/docs/charts/stable/tautulli/"}},c={},p=[{value:"Requirements",id:"requirements",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Tailscale Chart Setup",id:"tailscale-chart-setup",level:2},{value:"Support",id:"support",level:2}],d={toc:p};function h(e){var t=e.components,o=(0,n.Z)(e,i);return(0,l.kt)("wrapper",(0,r.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"how-to"},"How-To"),(0,l.kt)("p",null,"This is a quick how-to or setup-guide to use Tailscale using on your TrueNAS box.\nThis can be applied to other systems but this specific guide is SCALE specific with the prerequisites."),(0,l.kt)("h2",{id:"requirements"},"Requirements"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Tailscale Account (Free accounts available at ",(0,l.kt)("a",{parentName:"li",href:"https://www.tailscale.com"},"https://www.tailscale.com"),")"),(0,l.kt)("li",{parentName:"ul"},"Tailscale Truecharts Chart")),(0,l.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,l.kt)("p",null,"For proper access to your local network (LAN), this chart requires two ",(0,l.kt)("inlineCode",{parentName:"p"},"sysctl")," values set on your TrueNAS or system. For TrueNAS SCALE the way to change these values are inside ",(0,l.kt)("inlineCode",{parentName:"p"},"System")," then ",(0,l.kt)("inlineCode",{parentName:"p"},"Advanced"),". On that screen you add the following two values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"net.ipv4.ip_forward")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"net.ipv4.conf.all.src_valid_mark"))),(0,l.kt)("p",null,"Set them to ",(0,l.kt)("inlineCode",{parentName:"p"},"1")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"Enabled")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"sysctl",src:a(46534).Z,width:"806",height:"174"})),(0,l.kt)("p",null,"Also prepare your Tailscale Auth Key for your setup, easy to generate on the page below"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"tailscale-auth-key",src:a(66378).Z,width:"2166",height:"1153"})),(0,l.kt)("h2",{id:"tailscale-chart-setup"},"Tailscale Chart Setup"),(0,l.kt)("p",null,"Step 1-2: Ideally use ",(0,l.kt)("inlineCode",{parentName:"p"},"tailscale")," but you can use any name here and leave defaults for Step 2"),(0,l.kt)("p",null,"Step 3:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Enter ",(0,l.kt)("inlineCode",{parentName:"li"},"Auth Key")," you received from tailscale in prerequistes above"),(0,l.kt)("li",{parentName:"ul"},"Keep ",(0,l.kt)("inlineCode",{parentName:"li"},"Userspace")," checked (default) unless you wish to create your own Wireguard tunnels,"),(0,l.kt)("li",{parentName:"ul"},"The default for ",(0,l.kt)("inlineCode",{parentName:"li"},"Accept DNS")," is unchecked but enabling it will pass your Global Nameservers from Tailscale to your local install"),(0,l.kt)("li",{parentName:"ul"},"Change ",(0,l.kt)("inlineCode",{parentName:"li"},"Routes")," to the routes you wish Tailscale to have access to on the devices it's connected, such as my LAN in the example"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"Extra Args")," passes arguments/flags to the ",(0,l.kt)("inlineCode",{parentName:"li"},"tailscale up")," command. The most common one is ",(0,l.kt)("inlineCode",{parentName:"li"},"--advertise-exit-node")," to pass traffic through tailscale like a private VPN. For more Extra Args please check the ",(0,l.kt)("a",{parentName:"li",href:"https://tailscale.com/kb/1080/cli/#up"},"Tailscale Knowledge Base"))),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"tailscale-step-3",src:a(31181).Z,width:"939",height:"1279"})),(0,l.kt)("p",null,"Step 4:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The default ports are fine for this chart, you shouldn't need to port forward or open ports on your router. However many people will want to access their SMB shares or TrueNAS GUI via Tailscale. In order to do so you will have to ensure the screen is setup as below.")),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"tailscale-step-4",src:a(77152).Z,width:"937",height:"1179"})),(0,l.kt)("p",null,"Steps 5-9: Adjust as necessary but defaults are fine."),(0,l.kt)("h2",{id:"support"},"Support"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"You can also reach us using ",(0,l.kt)("a",{parentName:"li",href:"https://discord.gg/tVsPTHWTtr"},"Discord")," for real-time feedback and support"),(0,l.kt)("li",{parentName:"ul"},"If you found a bug in our chart, open a Github ",(0,l.kt)("a",{parentName:"li",href:"https://github.com/truecharts/apps/issues/new/choose"},"issue"))),(0,l.kt)("hr",null),(0,l.kt)("p",null,"All Rights Reserved - The TrueCharts Project"))}h.isMDXComponent=!0},66378:function(e,t,a){t.Z=a.p+"assets/images/How-To-Image-1-957d628de21cd2b6ef78d5519e38f783.png"},31181:function(e,t,a){t.Z=a.p+"assets/images/How-To-Image-2-7e8753dc5169ef9724a0be4738642e7e.png"},77152:function(e,t,a){t.Z=a.p+"assets/images/How-To-Image-3-3c7b6720ec59b769cd7a7ec0747c0298.png"},46534:function(e,t,a){t.Z=a.p+"assets/images/Sysctl-bc7767ea1b04f9eb2f642ef3e8ce7a89.png"}}]);